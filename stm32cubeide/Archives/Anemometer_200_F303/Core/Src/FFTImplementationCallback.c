/*
 * File: FFTImplementationCallback.c
 *
 * MATLAB Coder version            : 5.5
 * C/C++ source code generated on  : 29-Apr-2023 16:59:07
 */

/* Include Files */
#include "FFTImplementationCallback.h"
#include "maxEnvHilbert_data.h"
#include "rt_nonfinite.h"
#include <string.h>
#include "main.h"
extern UART_HandleTypeDef huart1;
/* Function Definitions */
/*
 * Arguments    : const double x[200]
 *                creal_T y[200]
 *                const creal_T wwc[199]
 *                const double costabinv[257]
 *                const double sintabinv[257]
 * Return Type  : void
 */
void c_FFTImplementationCallback_doH(const double x[200], creal_T y[200],
                                     const creal_T wwc[199],
                                     const double costabinv[257],
                                     const double sintabinv[257])
{
  static const creal_T reconVar1[100] = {{ 1.0, /* re */-1.0 /* im */},
                                         { 0.96858924092187171, /* re */ -0.9995065603657316  /* im */},
                                         { 0.93720948047068664, /* re */ -0.99802672842827156 /* im */},
                                         { 0.90589168668148567, /* re */ -0.99556196460308    /* im */},
                                         { 0.87466676643569574, /* re */ -0.99211470131447788 /* im */},
                                         { 0.84356553495976916, /* re */ -0.98768834059513777 /* im */},
                                         { 0.8126186854142754,  /* re */ -0.98228725072868872 /* im */},
                                         { 0.78185675860345749, /* re */ -0.97591676193874743 /* im */},
                                         { 0.75131011283514515, /* re */ -0.96858316112863108 /* im */},
                                         { 0.72100889396077072, /* re */ -0.96029368567694307 /* im */},
                                         { 0.69098300562505255, /* re */ -0.95105651629515353 /* im */},
                                         { 0.66126207975470863, /* re */ -0.94088076895422545 /* im */},
                                         { 0.63187544731532208, /* re */ -0.92977648588825135 /* im */},
                                         { 0.60285210936521938, /* re */ -0.91775462568398114 /* im */},
                                         { 0.57422070843492734, /* re */ -0.90482705246601947 /* im */},
                                         { 0.54600950026045325, /* re */ -0.8910065241883679  /* im */},
                                         { 0.51824632589828468, /* re */ -0.87630668004386358 /* im */},
                                         { 0.49095858424962868, /* re */ -0.86074202700394364 /* im */},
                                         { 0.46417320502100334, /* re */ -0.84432792550201508 /* im */},
                                         { 0.43791662214786942, /* re */ -0.82708057427456183 /* im */},
                                         { 0.41221474770752686, /* re */ -0.80901699437494745 /* im */},
                                         { 0.38709294634702351, /* re */ -0.79015501237569041 /* im */},
                                         { 0.36257601025131025, /* re */ -0.77051324277578914 /* im */},
                                         { 0.33868813467634817, /* re */ -0.75011106963045948 /* im */},
                                         { 0.31545289407131127, /* re */ -0.72896862742141155 /* im */},
                                         { 0.29289321881345254, /* re */ -0.70710678118654746 /* im */},
                                         { 0.27103137257858845, /* re */ -0.68454710592868873 /* im */},
                                         { 0.24988893036954052, /* re */ -0.66131186532365183 /* im */},
                                         { 0.22948675722421086, /* re */ -0.63742398974868975 /* im */},
                                         { 0.20984498762430959, /* re */ -0.61290705365297649 /* im */},
                                         { 0.19098300562505255, /* re */ -0.58778525229247314 /* im */},
                                         { 0.17291942572543817, /* re */ -0.56208337785213058 /* im */},
                                         { 0.15567207449798492, /* re */ -0.53582679497899666 /* im */},
                                         { 0.13925797299605636, /* re */ -0.50904141575037132 /* im */},
                                         { 0.12369331995613642, /* re */ -0.48175367410171532 /* im */},
                                         { 0.1089934758116321, /* re */ -0.4539904997395468 /* im */},
                                         { 0.095172947533980534, /* re */ -0.42577929156507272  /* im */},
                                         { 0.08224537431601886, /* re */ -0.39714789063478062 /* im */},
                                         { 0.070223514111748653, /* re */ -0.368124552684678    /* im */},
                                         { 0.059119231045774545, /* re */ -0.33873792024529142  /* im */},
                                         { 0.048943483704846469, /* re */ -0.3090169943749474   /* im */},
                                         { 0.039706314323056935, /* re */ -0.27899110603922928  /* im */},
                                         { 0.031416838871368924, /* re */ -0.24868988716485479  /* im */},
                                         { 0.024083238061252565, /* re */ -0.21814324139654256  /* im */},
                                         { 0.017712749271311279, /* re */ -0.18738131458572463  /* im */},
                                         { 0.01231165940486223, /* re */ -0.15643446504023087 /* im */},
                                         { 0.0078852986855221241, /* re */ -0.12533323356430426   /* im */},
                                         { 0.0044380353969200037, /* re */ -0.094108313318514325  /* im */},
                                         { 0.001973271571728441, /* re */ -0.062790519529313374 /* im */},
                                         { 0.0004934396342684,   /* re */ -0.031410759078128292 /* im */},
                                         {  0.0, /* re */ -0.0 /* im */},
                                         { 0.0004934396342684,  /* re */ 0.031410759078128292 /* im */},
                                         { 0.001973271571728441, /* re */ 0.062790519529313374  /* im */},
                                         { 0.0044380353969200037, /* re */ 0.094108313318514325   /* im */},
                                         { 0.0078852986855221241, /* re */ 0.12533323356430426    /* im */},
                                         { 0.01231165940486223, /* re */ 0.15643446504023087  /* im */},
                                         { 0.017712749271311279, /* re */ 0.18738131458572463   /* im */},
                                         { 0.024083238061252565, /* re */ 0.21814324139654256   /* im */},
                                         { 0.031416838871368924, /* re */ 0.24868988716485479   /* im */},
                                         { 0.039706314323056935, /* re */ 0.27899110603922928   /* im */},
                                         { 0.048943483704846469, /* re */ 0.3090169943749474    /* im */},
                                         { 0.059119231045774545, /* re */ 0.33873792024529142   /* im */},
                                         { 0.070223514111748653, /* re */ 0.368124552684678     /* im */},
                                         { 0.08224537431601886, /* re */ 0.39714789063478062  /* im */},
                                         { 0.095172947533980534, /* re */ 0.42577929156507272   /* im */},
                                         { 0.1089934758116321, /* re */ 0.4539904997395468  /* im */},
                                         { 0.12369331995613642, /* re */ 0.48175367410171532  /* im */},
                                         { 0.13925797299605636, /* re */ 0.50904141575037132  /* im */},
                                         { 0.15567207449798492, /* re */ 0.53582679497899666  /* im */},
                                         { 0.17291942572543817, /* re */ 0.56208337785213058  /* im */},
                                         { 0.19098300562505255, /* re */ 0.58778525229247314  /* im */},
                                         { 0.20984498762430959, /* re */ 0.61290705365297649  /* im */},
                                         { 0.22948675722421086, /* re */ 0.63742398974868975  /* im */},
                                         { 0.24988893036954052, /* re */ 0.66131186532365183  /* im */},
                                         { 0.27103137257858845, /* re */ 0.68454710592868873  /* im */},
                                         { 0.29289321881345254, /* re */ 0.70710678118654746  /* im */},
                                         { 0.31545289407131127, /* re */ 0.72896862742141155  /* im */},
                                         { 0.33868813467634817, /* re */ 0.75011106963045948  /* im */},
                                         { 0.36257601025131025, /* re */ 0.77051324277578914  /* im */},
                                         { 0.38709294634702351, /* re */ 0.79015501237569041  /* im */},
                                         { 0.41221474770752686, /* re */ 0.80901699437494745  /* im */},
                                         { 0.43791662214786942, /* re */ 0.82708057427456183  /* im */},
                                         { 0.46417320502100334, /* re */ 0.84432792550201508  /* im */},
                                         { 0.49095858424962868, /* re */ 0.86074202700394364  /* im */},
                                         { 0.51824632589828468, /* re */ 0.87630668004386358  /* im */},
                                         { 0.54600950026045325, /* re */ 0.8910065241883679   /* im */},
                                         { 0.57422070843492734, /* re */ 0.90482705246601947  /* im */},
                                         { 0.60285210936521938, /* re */ 0.91775462568398114  /* im */},
                                         { 0.63187544731532208, /* re */ 0.92977648588825135  /* im */},
                                         { 0.66126207975470863, /* re */ 0.94088076895422545  /* im */},
                                         { 0.69098300562505255, /* re */ 0.95105651629515353  /* im */},
                                         { 0.72100889396077072, /* re */ 0.96029368567694307  /* im */},
                                         { 0.75131011283514515, /* re */ 0.96858316112863108  /* im */},
                                         { 0.78185675860345749, /* re */ 0.97591676193874743  /* im */},
                                         { 0.8126186854142754, /* re */ 0.98228725072868872 /* im */},
                                         { 0.84356553495976916, /* re */ 0.98768834059513777  /* im */},
                                         { 0.87466676643569574, /* re */ 0.99211470131447788  /* im */},
                                         { 0.90589168668148567, /* re */ 0.99556196460308     /* im */},
                                         { 0.93720948047068664, /* re */ 0.99802672842827156  /* im */},
                                         { 0.96858924092187171, /* re */ 0.9995065603657316   /* im */}};

  static const creal_T reconVar2[100] = {{
                                             1.0, /* re */
                                             1.0  /* im */
                                         },
                                         {
                                             1.0314107590781283, /* re */
                                             0.9995065603657316  /* im */
                                         },
                                         {
                                             1.0627905195293135, /* re */
                                             0.99802672842827156 /* im */
                                         },
                                         {
                                             1.0941083133185143, /* re */
                                             0.99556196460308    /* im */
                                         },
                                         {
                                             1.1253332335643043, /* re */
                                             0.99211470131447788 /* im */
                                         },
                                         {
                                             1.156434465040231,  /* re */
                                             0.98768834059513777 /* im */
                                         },
                                         {
                                             1.1873813145857246, /* re */
                                             0.98228725072868872 /* im */
                                         },
                                         {
                                             1.2181432413965425, /* re */
                                             0.97591676193874743 /* im */
                                         },
                                         {
                                             1.2486898871648549, /* re */
                                             0.96858316112863108 /* im */
                                         },
                                         {
                                             1.2789911060392294, /* re */
                                             0.96029368567694307 /* im */
                                         },
                                         {
                                             1.3090169943749475, /* re */
                                             0.95105651629515353 /* im */
                                         },
                                         {
                                             1.3387379202452914, /* re */
                                             0.94088076895422545 /* im */
                                         },
                                         {
                                             1.3681245526846779, /* re */
                                             0.92977648588825135 /* im */
                                         },
                                         {
                                             1.3971478906347805, /* re */
                                             0.91775462568398114 /* im */
                                         },
                                         {
                                             1.4257792915650727, /* re */
                                             0.90482705246601947 /* im */
                                         },
                                         {
                                             1.4539904997395467, /* re */
                                             0.8910065241883679  /* im */
                                         },
                                         {
                                             1.4817536741017152, /* re */
                                             0.87630668004386358 /* im */
                                         },
                                         {
                                             1.5090414157503713, /* re */
                                             0.86074202700394364 /* im */
                                         },
                                         {
                                             1.5358267949789965, /* re */
                                             0.84432792550201508 /* im */
                                         },
                                         {
                                             1.5620833778521306, /* re */
                                             0.82708057427456183 /* im */
                                         },
                                         {
                                             1.5877852522924731, /* re */
                                             0.80901699437494745 /* im */
                                         },
                                         {
                                             1.6129070536529766, /* re */
                                             0.79015501237569041 /* im */
                                         },
                                         {
                                             1.6374239897486897, /* re */
                                             0.77051324277578914 /* im */
                                         },
                                         {
                                             1.6613118653236518, /* re */
                                             0.75011106963045948 /* im */
                                         },
                                         {
                                             1.6845471059286887, /* re */
                                             0.72896862742141155 /* im */
                                         },
                                         {
                                             1.7071067811865475, /* re */
                                             0.70710678118654746 /* im */
                                         },
                                         {
                                             1.7289686274214116, /* re */
                                             0.68454710592868873 /* im */
                                         },
                                         {
                                             1.7501110696304596, /* re */
                                             0.66131186532365183 /* im */
                                         },
                                         {
                                             1.770513242775789,  /* re */
                                             0.63742398974868975 /* im */
                                         },
                                         {
                                             1.7901550123756904, /* re */
                                             0.61290705365297649 /* im */
                                         },
                                         {
                                             1.8090169943749475, /* re */
                                             0.58778525229247314 /* im */
                                         },
                                         {
                                             1.8270805742745617, /* re */
                                             0.56208337785213058 /* im */
                                         },
                                         {
                                             1.8443279255020151, /* re */
                                             0.53582679497899666 /* im */
                                         },
                                         {
                                             1.8607420270039436, /* re */
                                             0.50904141575037132 /* im */
                                         },
                                         {
                                             1.8763066800438635, /* re */
                                             0.48175367410171532 /* im */
                                         },
                                         {
                                             1.8910065241883678, /* re */
                                             0.4539904997395468  /* im */
                                         },
                                         {
                                             1.9048270524660196, /* re */
                                             0.42577929156507272 /* im */
                                         },
                                         {
                                             1.917754625683981,  /* re */
                                             0.39714789063478062 /* im */
                                         },
                                         {
                                             1.9297764858882513, /* re */
                                             0.368124552684678   /* im */
                                         },
                                         {
                                             1.9408807689542256, /* re */
                                             0.33873792024529142 /* im */
                                         },
                                         {
                                             1.9510565162951536, /* re */
                                             0.3090169943749474  /* im */
                                         },
                                         {
                                             1.9602936856769431, /* re */
                                             0.27899110603922928 /* im */
                                         },
                                         {
                                             1.9685831611286311, /* re */
                                             0.24868988716485479 /* im */
                                         },
                                         {
                                             1.9759167619387474, /* re */
                                             0.21814324139654256 /* im */
                                         },
                                         {
                                             1.9822872507286888, /* re */
                                             0.18738131458572463 /* im */
                                         },
                                         {
                                             1.9876883405951378, /* re */
                                             0.15643446504023087 /* im */
                                         },
                                         {
                                             1.992114701314478,  /* re */
                                             0.12533323356430426 /* im */
                                         },
                                         {
                                             1.99556196460308,    /* re */
                                             0.094108313318514325 /* im */
                                         },
                                         {
                                             1.9980267284282716,  /* re */
                                             0.062790519529313374 /* im */
                                         },
                                         {
                                             1.9995065603657316,  /* re */
                                             0.031410759078128292 /* im */
                                         },
                                         {
                                             2.0, /* re */
                                             0.0  /* im */
                                         },
                                         {
                                             1.9995065603657316,   /* re */
                                             -0.031410759078128292 /* im */
                                         },
                                         {
                                             1.9980267284282716,   /* re */
                                             -0.062790519529313374 /* im */
                                         },
                                         {
                                             1.99556196460308,     /* re */
                                             -0.094108313318514325 /* im */
                                         },
                                         {
                                             1.992114701314478,   /* re */
                                             -0.12533323356430426 /* im */
                                         },
                                         {
                                             1.9876883405951378,  /* re */
                                             -0.15643446504023087 /* im */
                                         },
                                         {
                                             1.9822872507286888,  /* re */
                                             -0.18738131458572463 /* im */
                                         },
                                         {
                                             1.9759167619387474,  /* re */
                                             -0.21814324139654256 /* im */
                                         },
                                         {
                                             1.9685831611286311,  /* re */
                                             -0.24868988716485479 /* im */
                                         },
                                         {
                                             1.9602936856769431,  /* re */
                                             -0.27899110603922928 /* im */
                                         },
                                         {
                                             1.9510565162951536, /* re */
                                             -0.3090169943749474 /* im */
                                         },
                                         {
                                             1.9408807689542256,  /* re */
                                             -0.33873792024529142 /* im */
                                         },
                                         {
                                             1.9297764858882513, /* re */
                                             -0.368124552684678  /* im */
                                         },
                                         {
                                             1.917754625683981,   /* re */
                                             -0.39714789063478062 /* im */
                                         },
                                         {
                                             1.9048270524660196,  /* re */
                                             -0.42577929156507272 /* im */
                                         },
                                         {
                                             1.8910065241883678, /* re */
                                             -0.4539904997395468 /* im */
                                         },
                                         {
                                             1.8763066800438635,  /* re */
                                             -0.48175367410171532 /* im */
                                         },
                                         {
                                             1.8607420270039436,  /* re */
                                             -0.50904141575037132 /* im */
                                         },
                                         {
                                             1.8443279255020151,  /* re */
                                             -0.53582679497899666 /* im */
                                         },
                                         {
                                             1.8270805742745617,  /* re */
                                             -0.56208337785213058 /* im */
                                         },
                                         {
                                             1.8090169943749475,  /* re */
                                             -0.58778525229247314 /* im */
                                         },
                                         {
                                             1.7901550123756904,  /* re */
                                             -0.61290705365297649 /* im */
                                         },
                                         {
                                             1.770513242775789,   /* re */
                                             -0.63742398974868975 /* im */
                                         },
                                         {
                                             1.7501110696304596,  /* re */
                                             -0.66131186532365183 /* im */
                                         },
                                         {
                                             1.7289686274214116,  /* re */
                                             -0.68454710592868873 /* im */
                                         },
                                         {
                                             1.7071067811865475,  /* re */
                                             -0.70710678118654746 /* im */
                                         },
                                         {
                                             1.6845471059286887,  /* re */
                                             -0.72896862742141155 /* im */
                                         },
                                         {
                                             1.6613118653236518,  /* re */
                                             -0.75011106963045948 /* im */
                                         },
                                         {
                                             1.6374239897486897,  /* re */
                                             -0.77051324277578914 /* im */
                                         },
                                         {
                                             1.6129070536529766,  /* re */
                                             -0.79015501237569041 /* im */
                                         },
                                         {
                                             1.5877852522924731,  /* re */
                                             -0.80901699437494745 /* im */
                                         },
                                         {
                                             1.5620833778521306,  /* re */
                                             -0.82708057427456183 /* im */
                                         },
                                         {
                                             1.5358267949789965,  /* re */
                                             -0.84432792550201508 /* im */
                                         },
                                         {
                                             1.5090414157503713,  /* re */
                                             -0.86074202700394364 /* im */
                                         },
                                         {
                                             1.4817536741017152,  /* re */
                                             -0.87630668004386358 /* im */
                                         },
                                         {
                                             1.4539904997395467, /* re */
                                             -0.8910065241883679 /* im */
                                         },
                                         {
                                             1.4257792915650727,  /* re */
                                             -0.90482705246601947 /* im */
                                         },
                                         {
                                             1.3971478906347805,  /* re */
                                             -0.91775462568398114 /* im */
                                         },
                                         {
                                             1.3681245526846779,  /* re */
                                             -0.92977648588825135 /* im */
                                         },
                                         {
                                             1.3387379202452914,  /* re */
                                             -0.94088076895422545 /* im */
                                         },
                                         {
                                             1.3090169943749475,  /* re */
                                             -0.95105651629515353 /* im */
                                         },
                                         {
                                             1.2789911060392294,  /* re */
                                             -0.96029368567694307 /* im */
                                         },
                                         {
                                             1.2486898871648549,  /* re */
                                             -0.96858316112863108 /* im */
                                         },
                                         {
                                             1.2181432413965425,  /* re */
                                             -0.97591676193874743 /* im */
                                         },
                                         {
                                             1.1873813145857246,  /* re */
                                             -0.98228725072868872 /* im */
                                         },
                                         {
                                             1.156434465040231,   /* re */
                                             -0.98768834059513777 /* im */
                                         },
                                         {
                                             1.1253332335643043,  /* re */
                                             -0.99211470131447788 /* im */
                                         },
                                         {
                                             1.0941083133185143, /* re */
                                             -0.99556196460308   /* im */
                                         },
                                         {
                                             1.0627905195293135,  /* re */
                                             -0.99802672842827156 /* im */
                                         },
                                         {
                                             1.0314107590781283, /* re */
                                             -0.9995065603657316 /* im */
                                         }};
  static const signed char iv[100] = {
      1,  100, 99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85,
      84, 83,  82, 81, 80, 79, 78, 77, 76, 75, 74, 73, 72, 71, 70, 69, 68,
      67, 66,  65, 64, 63, 62, 61, 60, 59, 58, 57, 56, 55, 54, 53, 52, 51,
      50, 49,  48, 47, 46, 45, 44, 43, 42, 41, 40, 39, 38, 37, 36, 35, 34,
      33, 32,  31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17,
      16, 15,  14, 13, 12, 11, 10, 9,  8,  7,  6,  5,  4,  3,  2};
  extern creal_T fv[512];
  extern creal_T fy[512];
  extern creal_T ytmp[100];
  extern double hcostab[128];
  extern double hcostabinv[128];
  extern double hsintab[128];
  extern double hsintabinv[128];
  double b_temp_re_tmp;
  double re_tmp;
  double temp_im;
  double temp_re;
  double twid_im;
  double twid_re;
  int i;
  int iheight;
  int ihi;
  int istart;
  int iy;
  int j;
  int ju;
  int k;
  int temp_re_tmp;
  boolean_T tst;
#ifdef FFTDEBUG
  extern char SndBuffer[100];
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT0\n\r", sizeof("TPFFT0\n\r"), 1000);
#endif
  for (i = 0; i < 128; i++) {
    iy = ((i + 1) << 1) - 2;
#ifdef FFTDEBUG
    memset(SndBuffer, 0, sizeof(SndBuffer));
    sprintf(SndBuffer, "i: %d, iy: %d\n\r", i, iy);
	HAL_UART_Transmit(&huart1, (uint8_t *) SndBuffer, sizeof(SndBuffer), 1000);
#endif
	hcostab[i] = dv[iy];
    hsintab[i] = dv1[iy];
    hcostabinv[i] = costabinv[iy];
    hsintabinv[i] = sintabinv[iy];
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT1\n\r", sizeof("TPFFT1\n\r"), 1000);
#endif
  for (iy = 0; iy < 100; iy++) {
    temp_re_tmp = iy << 1;
    temp_re = x[temp_re_tmp];
    temp_im = x[temp_re_tmp + 1];
    twid_im = wwc[iy + 99].re;
    re_tmp = wwc[iy + 99].im;
    ytmp[iy].re = twid_im * temp_re + re_tmp * temp_im;
    ytmp[iy].im = twid_im * temp_im - re_tmp * temp_re;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT2\n\r", sizeof("TPFFT2\n\r"), 1000);
#endif
  memset(&fy[0], 0, 256U * sizeof(creal_T));
  iy = 0;
  ju = 0;
  for (i = 0; i < 99; i++) {
    fy[iy] = ytmp[i];
    iy = 256;
    tst = true;
    while (tst) {
      iy >>= 1;
      ju ^= iy;
      tst = ((ju & iy) == 0);
    }
    iy = ju;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT3\n\r", sizeof("TPFFT3\n\r"), 1000);
#endif
  fy[iy] = ytmp[99];
  for (i = 0; i <= 254; i += 2) {
    b_temp_re_tmp = fy[i + 1].re;
    temp_im = fy[i + 1].im;
    re_tmp = fy[i].re;
    twid_re = fy[i].im;
    fy[i + 1].re = re_tmp - b_temp_re_tmp;
    fy[i + 1].im = twid_re - temp_im;
    fy[i].re = re_tmp + b_temp_re_tmp;
    fy[i].im = twid_re + temp_im;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT4\n\r", sizeof("TPFFT4\n\r"), 1000);
#endif
  iy = 2;
  ju = 4;
  k = 64;
  iheight = 253;
  while (k > 0) {
    for (i = 0; i < iheight; i += ju) {
      temp_re_tmp = i + iy;
      temp_re = fy[temp_re_tmp].re;
      temp_im = fy[temp_re_tmp].im;
      fy[temp_re_tmp].re = fy[i].re - temp_re;
      fy[temp_re_tmp].im = fy[i].im - temp_im;
      fy[i].re += temp_re;
      fy[i].im += temp_im;
    }
    istart = 1;
    for (j = k; j < 128; j += k) {
      twid_re = hcostab[j];
      twid_im = hsintab[j];
      i = istart;
      ihi = istart + iheight;
      while (i < ihi) {
        temp_re_tmp = i + iy;
        b_temp_re_tmp = fy[temp_re_tmp].im;
        temp_im = fy[temp_re_tmp].re;
        temp_re = twid_re * temp_im - twid_im * b_temp_re_tmp;
        temp_im = twid_re * b_temp_re_tmp + twid_im * temp_im;
        fy[temp_re_tmp].re = fy[i].re - temp_re;
        fy[temp_re_tmp].im = fy[i].im - temp_im;
        fy[i].re += temp_re;
        fy[i].im += temp_im;
        i += ju;
      }
      istart++;
    }
    k /= 2;
    iy = ju;
    ju += ju;
    iheight -= iy;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT5\n\r", sizeof("TPFFT5\n\r"), 1000);
#endif
  memset(&fv[0], 0, 256U * sizeof(creal_T));
  iy = 0;
  ju = 0;
  for (i = 0; i < 198; i++) {
    fv[iy] = wwc[i];
    iy = 256;
    tst = true;
    while (tst) {
      iy >>= 1;
      ju ^= iy;
      tst = ((ju & iy) == 0);
    }
    iy = ju;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT6\n\r", sizeof("TPFFT6\n\r"), 1000);
#endif
  fv[iy] = wwc[198];
  for (i = 0; i <= 254; i += 2) {
    b_temp_re_tmp = fv[i + 1].re;
    temp_im = fv[i + 1].im;
    re_tmp = fv[i].re;
    twid_re = fv[i].im;
    fv[i + 1].re = re_tmp - b_temp_re_tmp;
    fv[i + 1].im = twid_re - temp_im;
    fv[i].re = re_tmp + b_temp_re_tmp;
    fv[i].im = twid_re + temp_im;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT7\n\r", sizeof("TPFFT7\n\r"), 1000);
#endif
  iy = 2;
  ju = 4;
  k = 64;
  iheight = 253;
  while (k > 0) {
    for (i = 0; i < iheight; i += ju) {
      temp_re_tmp = i + iy;
      temp_re = fv[temp_re_tmp].re;
      temp_im = fv[temp_re_tmp].im;
      fv[temp_re_tmp].re = fv[i].re - temp_re;
      fv[temp_re_tmp].im = fv[i].im - temp_im;
      fv[i].re += temp_re;
      fv[i].im += temp_im;
    }
    istart = 1;
    for (j = k; j < 128; j += k) {
      twid_re = hcostab[j];
      twid_im = hsintab[j];
      i = istart;
      ihi = istart + iheight;
      while (i < ihi) {
        temp_re_tmp = i + iy;
        b_temp_re_tmp = fv[temp_re_tmp].im;
        temp_im = fv[temp_re_tmp].re;
        temp_re = twid_re * temp_im - twid_im * b_temp_re_tmp;
        temp_im = twid_re * b_temp_re_tmp + twid_im * temp_im;
        fv[temp_re_tmp].re = fv[i].re - temp_re;
        fv[temp_re_tmp].im = fv[i].im - temp_im;
        fv[i].re += temp_re;
        fv[i].im += temp_im;
        i += ju;
      }
      istart++;
    }
    k /= 2;
    iy = ju;
    ju += ju;
    iheight -= iy;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT8\n\r", sizeof("TPFFT8\n\r"), 1000);
#endif
  for (iy = 0; iy < 256; iy++) {
    re_tmp = fy[iy].re;
    temp_im = fv[iy].im;
    twid_re = fy[iy].im;
    twid_im = fv[iy].re;
    fy[iy].re = re_tmp * twid_im - twid_re * temp_im;
    fy[iy].im = re_tmp * temp_im + twid_re * twid_im;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFT9\n\r", sizeof("TPFFT9\n\r"), 1000);
#endif
  iy = 0;
  ju = 0;
  for (i = 0; i < 255; i++) {
    fv[iy] = fy[i];
    iy = 256;
    tst = true;
    while (tst) {
      iy >>= 1;
      ju ^= iy;
      tst = ((ju & iy) == 0);
    }
    iy = ju;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFTA\n\r", sizeof("TPFFTA\n\r"), 1000);
#endif
  fv[iy] = fy[255];
  for (i = 0; i <= 254; i += 2) {
    b_temp_re_tmp = fv[i + 1].re;
    temp_im = fv[i + 1].im;
    re_tmp = fv[i].re;
    twid_re = fv[i].im;
    fv[i + 1].re = re_tmp - b_temp_re_tmp;
    fv[i + 1].im = twid_re - temp_im;
    fv[i].re = re_tmp + b_temp_re_tmp;
    fv[i].im = twid_re + temp_im;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFTB\n\r", sizeof("TPFFTB\n\r"), 1000);
#endif
  iy = 2;
  ju = 4;
  k = 64;
  iheight = 253;
  while (k > 0) {
    for (i = 0; i < iheight; i += ju) {
      temp_re_tmp = i + iy;
      temp_re = fv[temp_re_tmp].re;
      temp_im = fv[temp_re_tmp].im;
      fv[temp_re_tmp].re = fv[i].re - temp_re;
      fv[temp_re_tmp].im = fv[i].im - temp_im;
      fv[i].re += temp_re;
      fv[i].im += temp_im;
    }
    istart = 1;
    for (j = k; j < 128; j += k) {
      twid_re = hcostabinv[j];
      twid_im = hsintabinv[j];
      i = istart;
      ihi = istart + iheight;
      while (i < ihi) {
        temp_re_tmp = i + iy;
        b_temp_re_tmp = fv[temp_re_tmp].im;
        temp_im = fv[temp_re_tmp].re;
        temp_re = twid_re * temp_im - twid_im * b_temp_re_tmp;
        temp_im = twid_re * b_temp_re_tmp + twid_im * temp_im;
        fv[temp_re_tmp].re = fv[i].re - temp_re;
        fv[temp_re_tmp].im = fv[i].im - temp_im;
        fv[i].re += temp_re;
        fv[i].im += temp_im;
        i += ju;
      }
      istart++;
    }
    k /= 2;
    iy = ju;
    ju += ju;
    iheight -= iy;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFTC\n\r", sizeof("TPFFTC\n\r"), 1000);
#endif
  for (iy = 0; iy < 256; iy++) {
    fv[iy].re *= 0.00390625;
    fv[iy].im *= 0.00390625;
  }
  for (k = 0; k < 100; k++) {
    twid_im = wwc[k + 99].re;
    re_tmp = fv[k + 99].im;
    temp_im = wwc[k + 99].im;
    twid_re = fv[k + 99].re;
    ytmp[k].re = twid_im * twid_re + temp_im * re_tmp;
    ytmp[k].im = twid_im * re_tmp - temp_im * twid_re;
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFTD\n\r", sizeof("TPFFTD\n\r"), 1000);
#endif
  for (i = 0; i < 100; i++) {
    double b_ytmp_re_tmp;
    double ytmp_re_tmp;
    temp_im = ytmp[i].re;
    twid_re = reconVar1[i].im;
    twid_im = ytmp[i].im;
    re_tmp = reconVar1[i].re;
    iy = iv[i] - 1;
    temp_re = ytmp[iy].re;
    b_temp_re_tmp = -ytmp[iy].im;
    ytmp_re_tmp = reconVar2[i].im;
    b_ytmp_re_tmp = reconVar2[i].re;
    y[i].re = 0.5 * ((temp_im * re_tmp - twid_im * twid_re) +
                     (temp_re * b_ytmp_re_tmp - b_temp_re_tmp * ytmp_re_tmp));
    y[i].im = 0.5 * ((temp_im * twid_re + twid_im * re_tmp) +
                     (temp_re * ytmp_re_tmp + b_temp_re_tmp * b_ytmp_re_tmp));
    y[i + 100].re = 0.5 * ((temp_im * b_ytmp_re_tmp - twid_im * ytmp_re_tmp) +
                           (temp_re * re_tmp - b_temp_re_tmp * twid_re));
    y[i + 100].im = 0.5 * ((temp_im * ytmp_re_tmp + twid_im * b_ytmp_re_tmp) +
                           (temp_re * twid_re + b_temp_re_tmp * re_tmp));
  }
#ifdef FFTDEBUG
  HAL_UART_Transmit(&huart1, (uint8_t *) "TPFFTE\n\r", sizeof("TPFFTE\n\r"), 1000);
#endif
}

/*
 * File trailer for FFTImplementationCallback.c
 *
 * [EOF]
 */
